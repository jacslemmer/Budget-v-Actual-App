name = "cashflow-api"
main = "src/index.ts"
compatibility_date = "2025-11-10"
node_compat = true

[build]
command = "npm run build"

# Database: Supabase PostgreSQL
# Connection is via environment variables (DATABASE_URL)
# No D1 binding needed - Prisma connects directly to Supabase

# KV Namespace for rate limiting
# Uncomment and configure after creating KV:
# [[kv_namespaces]]
# binding = "KV"
# id = "your-kv-id"

[vars]
NODE_ENV = "development"

# Secrets (set via: wrangler secret put <NAME>)
# - DATABASE_URL (Supabase connection string)
# - DIRECT_URL (Supabase direct connection)
# - CLAUDE_API_KEY
# - ENCRYPTION_KEY
